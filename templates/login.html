{% extends "base.html" %}

{% block content %}
<div class="max-w-md mx-auto mt-20 p-6 relative" style="z-index: 10;">
  
  <div class="bg-white p-8 rounded-[50px] shadow-2xl relative overflow-hidden" 
       style="box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); border: 1px solid rgba(255, 255, 255, 0.7);">
    
    <div class="flex flex-col items-center mb-6">
      <div class="w-20 h-20 rounded-full bg-maihlili-figma-rose flex items-center justify-center shadow-lg mb-3">
        <img src="{{ url_for('static', filename='images/maihlili-logo-light.png') }}" alt="Logo Maihlili" class="h-12 w-12">
      </div>
      <h2 class="text-2xl font-bold text-maihlili-figma-blue tracking-wider font-['Bebas_Neue'] uppercase">Connexion</h2>
    </div>

    <form method="POST" action="{{ url_for('login') }}" class="space-y-6">
      
      <div class="relative flex items-center border-b border-gray-300 focus-within:border-maihlili-figma-blue pb-2">
        <span class="text-2xl text-gray-500 mr-3">👤</span>
        <input type="text" name="username" placeholder="Nom d'utilisateur ou Email" required
               class="flex-1 bg-transparent placeholder-gray-500 focus:outline-none text-gray-700 p-0 text-lg">
      </div>
      
      <div class="relative flex items-center border-b border-gray-300 focus-within:border-maihlili-figma-blue pb-2">
        <span class="text-2xl text-gray-500 mr-3">🔒</span>
        <input type="password" name="password" id="password" placeholder="Mot de passe" required
               class="flex-1 bg-transparent placeholder-gray-500 focus:outline-none text-gray-700 p-0 text-lg pr-12">
        <button type="button" onclick="togglePassword()" 
                class="absolute right-0 text-gray-500 hover:text-gray-700 focus:outline-none">
          <span id="eye-icon">👁️</span>
        </button>
      </div>
      
      <button type="submit" 
              class="w-full bg-maihlili-figma-rose text-maihlili-figma-blue py-3 mt-8 rounded-full shadow-md hover:shadow-lg font-['Bebas_Neue'] text-xl tracking-widest transition-all duration-300 hover:bg-red-200">
        Se connecter
      </button>
    </form>
    
    <p class="mt-6 text-sm text-center text-gray-500 font-medium">
      Pas de compte ? 
      <a href="{{ url_for('register') }}" class="text-maihlili-figma-blue hover:underline font-bold">S'inscrire</a>
    </p>
  </div>
</div>

<script>
function togglePassword() {
  const passwordInput = document.getElementById('password');
  const eyeIcon = document.getElementById('eye-icon');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.textContent = '🙈';
  } else {
    passwordInput.type = 'password';
    eyeIcon.textContent = '👁️';
  }
}
</script>
{% endblock %}
