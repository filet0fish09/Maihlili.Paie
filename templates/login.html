{% extends "base.html" %}
{% block content %}
<div class="max-w-md mx-auto mt-20 bg-white p-8 rounded-xl shadow-lg">
  <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">🔐 Connexion</h2>
  <form method="POST" action="{{ url_for('login') }}" class="space-y-4">
    <div>
      <input type="text" name="username" placeholder="Nom d'utilisateur ou Email" required
             class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>
    
    <div class="relative">
      <input type="password" name="password" id="password" placeholder="Mot de passe" required
             class="w-full px-4 py-2 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <button type="button" onclick="togglePassword()" 
              class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none">
        <span id="eye-icon">👁️</span>
      </button>
    </div>
    
    <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 font-medium transition-colors">
      Se connecter
    </button>
  </form>
  
  <p class="mt-4 text-sm text-center text-gray-500">
    Pas de compte ? 
    <a href="{{ url_for('register') }}" class="text-blue-600 hover:underline">S'inscrire</a>
  </p>
</div>

<script>
function togglePassword() {
  const passwordInput = document.getElementById('password');
  const eyeIcon = document.getElementById('eye-icon');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.textContent = '🙈';
  } else {
    passwordInput.type = 'password';
    eyeIcon.textContent = '👁️';
  }
}
</script>
{% endblock %}
